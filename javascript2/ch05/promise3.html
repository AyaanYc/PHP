<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //객체뒤에 then,catch가 들어오면 그 객체는 100% Promise객체이다. 
        //then은 새로운 promise객체(return값을 resolve에 넣은)를 만든다.
        /*
        1.콜백지옥을 안 하기 위해 promise를 사용해야 한다.(동기로사용하기위한)
        2.promise객체 만들 때 보내는 콜백함수에
          resolve를 호출하면 then이 실행되고
          reject를 호출하면 catch가 실행된다.
        3. 2번 콜백에서 리턴 값이 promise객체가 아니라면 +리턴값을 resolve에 아규먼트로 사용한 promise객체가 리턴된다.+
            prmise객체가 넘어온다면 그대로 넘어간다. 
        */
                            //1번콜백
       const p1 = new Promise(function(resolve){
           resolve('안녕');//resolve,reject 매개변수는 하나만 받기로 되어있음
       });

       // then메소드 안은 이런식으로 구성되어 있을 것이다.
    //    const param = '안녕';
    //    const val = cb(param);
    //    return new Promise(function(resolve) {
    //        resolve(val);
    //    });
                          //2번콜백 
       const p2 = p1.then(function(result) {
           console.log(`p1 : ${result}`);
           return result;
       });

       p2.then(function(result){
           console.log(`p2 : ${result}`);
       });

       /*
       체인기법 32~40번의 내용을 아래와 같이 작성할 수 있다.
       p1.then(function(result) {
           console.log(`p1 : ${result}`);
           return 'hello';
       }).then(function(result) {
           aconsole.log(`p2 : ${result}`)
       });
       */
    </script>
</body>
</html>